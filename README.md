# Crack the lock (幾A幾B)

其他語言: [英文](./README_English.md)

## 主要功能
根據提示的A和B，使用最少次數破解四位數字密碼。\
A 表示數字正確且位置正確的數量。\
B 表示數字正確但位置不對的數量。

## 先決條件：
- 在您的電腦上安裝Python（建議使用3.11.3版本）。
- 在您的電腦上安裝文本編輯器（如果需要修改此專案）。

## 如何使用：
1. 從發布頁面下載必要的Python腳本副本。
2. 確保您的電腦上安裝了Python解釋器。
3. 如果缺少 `valid_numbers.json` 檔案，請運行腳本 `generate_valid_numbers.py` 以建立該文件。
4. 在命令提示符或終端中運行以下命令：
    ```
    python.exe GuessNumber.py
5. 按照命令提示窗(CMD)上的說明進行遊戲。

## 背後原理：
**主要概念：** 我通過使用猜測歷史和用戶提供的提示來篩選出不符合提示的數字。例如，如果用戶輸入1A0B，則腳本將刪除除了與先前猜測中位置正確的數字之外的所有數字。這個過程將重複，直到找到數字為止。

- 文件 `valid_numbers.json` 是遊戲中所有可能數字的列表。它由腳本 `generate_valid_numbers.py` 所建立。腳本 `generate_valid_numbers.py` 會建立所有可能數字的列表並保存到 `valid_numbers.json`。只有在缺少 `valid_numbers.json` 時才需要執行此操作並且此操作只需進行一次。

- 文件 `GuessNumber.py` 是遊戲的主要腳本。首先它讀取 `valid_numbers.json` 並從列表中選擇一個數字。然後它會要求用戶輸入A的數量（位置和數字都正確）和B的數量（只有數字正確，位置不正確）。

## 原始方法：
我原本想要使用強化學習（RL）來解決問題。我設計了獎勵系統、觀察系統以及觀察。我選擇了PPO作為RL算法，並訓練了幾個版本的RL模型，但結果並不如我預期的那麼好。模型無法學習遊戲的模式。它只是隨機生成數字而不考慮觀察和獎勵。我認為問題在於獎勵系統沒有為不同的猜測提供小數值。換句話說，獎勵系統沒有提供足夠的信息供模型學習。模型發現遊戲的最佳方法是隨機猜測數字。我嘗試了許多修復方法，例如設計更準確的獎勵系統、創建更簡單的行動空間以及提供有關環境的更詳細的觀察。然而，這些方法都沒有奏效。因此，我決定使用當前的方法，這更簡單且更有效。
