# Crack the lock (幾A幾B)

Other language: [Chinese](./ReadME_Chinese.md)

## Main feature:
Use the least times to crack a four-digit code based on the hints of A and B.

## Prerequisites:
- Have a Python interpreter installed (3.11.3 is recommended) on your computer.
- Have a text editor installed on your computer (if you need to modify the project).

## How to use:
1. Download this copy of the necessary Python scripts from the releases page.
2. Make sure to have a Python interpreter installed on your computer.
3. If `valid_numbers.json` is missing, run the script `generate_valid_numbers.py` to generate the file.
4. Run this command using the command prompt or terminal:
 ```
python.exe GuessNumber.py
```
5. Follow the instructions on the screen to play the game.

## Approach to the problem:
**Main concept:** I approach the problem by using the guess history and the user-provided hints to filter out the numbers that do not match the hints. For example, if the user inputs 1A0B, then the script will remove all the numbers except the ones that have 1 number in the correct location with the previous guesses. This process will repeat until the number is found.

- The file `valid_numbers.json` is a list of all possible numbers in the game. It is generated by the script `generate_valid_numbers.py`. The script `generate_valid_numbers.py` will generate a list of all possible numbers and save it to `valid_numbers.json`. This only needs to be done once when the `valid_numbers.json` is missing.

- The file `GuessNumber.py` is the main script of the game. It will read the `valid_numbers.json` and pick one from the list. Then it will ask the user to input the number of A (Both the location and number are correct) and B (Only the number is correct while the position is not).

## Original approach:
The original approach I want to use is reinforcement learning (RL). I designed a reward system and an observation system. I chose PPO as the RL algorithm and trained several versions of the RL model, but the result was not as good as I expected. The model is not able to learn the pattern of the game. It just randomly generates numbers without considering the observation and the reward. I think that the problem is that the reward system does not have decimal values for different guesses. In other words, the reward system did not provide enough information for the model to learn. The model figured out that the best approach to the game is by guessing random numbers. I have tried many fixes such as designing a more accurate reward system, creating a more simple action space, and providing a more detailed observation about the environment. However, none of these worked. Therefore, I decided to use the current approach which is simpler and more effective.
